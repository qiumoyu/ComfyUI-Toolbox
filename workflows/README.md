# ComfyUI-Toolbox 工作流目录

这个目录包含了ComfyUI-Toolbox的各种工作流文件，按功能分类组织。

## 目录结构

```
workflows/
├── templates/                    # 工作流模板
│   ├── mask_analysis/           # 遮罩分析模板
│   │   ├── basic_edge_detection.json
│   │   ├── advanced_analysis.json
│   │   └── mask_preprocessing.json
│   ├── image_processing/        # 图像处理模板 (预留)
│   ├── ai_tools/               # AI工具模板 (预留)
│   └── utils/                  # 工具类模板 (预留)
├── examples/                    # 示例工作流
│   ├── mask_analysis/          # 遮罩分析示例
│   │   └── edge_detection_demo.json
│   ├── image_processing/       # 图像处理示例 (预留)
│   └── ai_tools/              # AI工具示例 (预留)
├── user/                       # 用户自定义工作流
└── README.md                   # 本说明文档
```

## 工作流分类

### 1. 模板 (templates/)
模板是标准化的、可重复使用的工作流框架，用户可以根据需要进行修改。

#### 遮罩分析模板
- **basic_edge_detection.json**: 基础边缘检测模板
  - 功能：检测遮罩是否接触图像边缘
  - 适用场景：快速边缘检测分析
  
- **advanced_analysis.json**: 高级分析模板
  - 功能：完整的遮罩分析流程
  - 包含：预处理、边缘检测、形状分析、连通性分析
  - 适用场景：深度遮罩分析
  
- **mask_preprocessing.json**: 遮罩预处理模板
  - 功能：遮罩的预处理流程
  - 包含：阈值处理、形态学操作、平滑处理
  - 适用场景：遮罩质量优化

### 2. 示例 (examples/)
示例是完整的工作流演示，展示了特定功能的使用方法。

#### 遮罩分析示例
- **edge_detection_demo.json**: 边缘检测演示
  - 展示基础边缘检测功能
  - 包含结果保存和可视化

### 3. 用户工作流 (user/)
用户自定义的工作流文件，可以根据个人需求创建和保存。

## 使用方法

### 导入工作流
1. 在ComfyUI中点击"Load"按钮
2. 选择对应的工作流JSON文件
3. 根据需要进行参数调整
4. 运行工作流

### 修改模板
1. 导入模板文件
2. 根据具体需求调整节点参数
3. 添加或删除节点
4. 保存为新的工作流

### 创建自定义工作流
1. 参考模板或示例的结构
2. 在ComfyUI中创建新的工作流
3. 保存到`user/`目录
4. 添加说明文档

## 工作流命名规范

### 模板命名
- 格式：`功能_类型.json`
- 示例：`basic_edge_detection.json`, `advanced_analysis.json`

### 示例命名
- 格式：`功能_demo.json` 或 `功能_example.json`
- 示例：`edge_detection_demo.json`

### 用户工作流命名
- 格式：`用户自定义名称.json`
- 建议包含功能描述和日期

## 工作流开发指南

### 创建新模板
1. 在ComfyUI中设计工作流
2. 使用通用参数和文件名
3. 添加必要的注释和说明
4. 保存到对应的模板目录
5. 更新本说明文档

### 工作流优化
1. 使用有意义的节点名称
2. 合理组织节点布局
3. 添加必要的输出节点
4. 确保工作流的可重复性

### 文档化
1. 为每个工作流添加说明
2. 描述输入输出要求
3. 提供使用示例
4. 说明适用场景

## 最佳实践

### 模板设计
- 使用通用参数值
- 提供清晰的节点标签
- 包含必要的输入验证
- 支持多种使用场景

### 示例设计
- 展示完整的功能流程
- 包含实际的数据文件
- 提供详细的结果说明
- 易于理解和修改

### 用户工作流
- 使用描述性的文件名
- 添加版本信息
- 记录修改历史
- 定期备份重要工作流

## 扩展计划

### 即将添加的模板
- 图像处理模板
- AI工具模板
- 批处理模板
- 数据转换模板

### 即将添加的示例
- 复杂分析流程示例
- 多步骤处理示例
- 性能优化示例
- 错误处理示例

## 贡献指南

欢迎提交新的工作流模板和示例！

### 提交要求
1. 工作流功能完整且可运行
2. 包含必要的说明文档
3. 使用标准的命名规范
4. 经过测试验证

### 提交流程
1. 创建功能分支
2. 添加工作流文件
3. 更新说明文档
4. 提交Pull Request 